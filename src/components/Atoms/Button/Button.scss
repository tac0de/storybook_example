/* 
 * Button 컴포넌트 스타일 가이드
 * 
 * BEM 명명 규칙:
 * - Block: .button (컴포넌트의 기본 단위)
 * - Element: .button__element (컴포넌트의 구성 요소)
 * - Modifier: .button--modifier (컴포넌트의 변형)
 *
 * 예시:
 * - .button (기본 버튼)
 * - .button__icon (버튼 내 아이콘)
 * - .button--large (큰 크기 버튼)
 */

.button {
  /* 1. 기본 크기 설정 */
  --btn-h: 36px; /* 버튼 높이 */
  --pad-x: 12px; /* 좌우 패딩 */
  --gap: 8px; /* 내부 요소 간격 */

  /* 2. 기본 레이아웃 */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: var(--btn-h);
  padding: 0 var(--pad-x);
  gap: var(--gap);

  /* 3. 기본 스타일 */
  border-radius: 8px;
  border: 1px solid transparent;
  font: inherit;
  line-height: 1;
  cursor: pointer;
  text-decoration: none;
  user-select: none;
  white-space: nowrap;

  /* 4. 부드러운 상태 변화 */
  transition:
    background-color 0.2s,
    color 0.2s,
    border-color 0.2s,
    opacity 0.2s;

  /* 5. 크기 변형 */
  &--sm {
    --btn-h: 28px;
    --pad-x: 10px;
    --gap: 6px;
    font-size: 12px;
  }

  &--md {
    --btn-h: 36px;
    --pad-x: 12px;
    --gap: 8px;
    font-size: 14px;
  }

  &--lg {
    --btn-h: 44px;
    --pad-x: 16px;
    --gap: 10px;
    font-size: 16px;
  }

  /* 6. 너비 변형 */
  &--full-width {
    width: 100%;
  }

  &--custom-width {
    width: var(--btn-width);
  }

  /* 7. 스타일 변형 */
  &--solid {
    background: var(--btn-bg, #111);
    color: #fff;

    &:hover {
      background: #000;
    }
  }

  &--outline {
    background: transparent;
    color: var(--btn-outline-fg, #111);
    border-color: currentColor;

    &:hover {
      background: rgba(0, 0, 0, 0.05);
    }
  }

  &--ghost {
    background: transparent;
    color: var(--btn-ghost-fg, #111);

    &:hover {
      background: rgba(0, 0, 0, 0.05);
    }
  }

  &--link {
    background: transparent;
    color: var(--btn-link, #e53e30);
    border-color: transparent;
    padding: 0;
    height: auto;

    &:hover {
      text-decoration: underline;
    }
  }

  /* 8. 모서리 변형 */
  &--pill {
    border-radius: 9999px;
  }

  /* 9. 아이콘 관련 요소 */
  &__icons-container {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--icons-gap, 6px);
  }

  &__icon {
    display: inline-flex;
    align-items: center;

    &--leading {
      margin-right: calc(var(--gap) - 2px);
    }

    &--trailing {
      margin-left: calc(var(--gap) - 2px);
    }
  }

  /* 10. 텍스트 레이블 */
  &__label {
    display: inline-block;
  }

  /* 11. 로딩 상태 */
  &__spinner {
    width: 1em;
    height: 1em;
    border: 2px solid currentColor;
    border-right-color: transparent;
    border-radius: 50%;
    animation: button-spin 0.8s linear infinite;
  }

  /* 12. 접근성 */
  &__sr-only {
    position: absolute !important;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 1px, 1px);
    white-space: nowrap;
    border: 0;
  }

  /* 13. 비활성화 상태 */
  &--disabled,
  &:disabled,
  &[aria-disabled='true'] {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
  }
}

/* 14. 그룹화된 버튼 간격 */
.button--grouped + .button--grouped {
  margin-left: var(--btn-gap, 8px);
}

/* 15. 아이콘 전용 버튼 그룹 간격 */
.button--grouped.button--icon-only + .button--grouped.button--icon-only {
  margin-left: var(--btn-gap-icon, 6px);
}

/* 16. 로딩 애니메이션 */
@keyframes button-spin {
  to {
    transform: rotate(360deg);
  }
}
